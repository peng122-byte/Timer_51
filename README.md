------

# 基于 51 单片机的数字秒表 (51 MCU Digital Stopwatch)

## 📌 项目简介

本项目是一个基于 **AT89C52** 单片机的简易数字秒表系统。项目采用 C 语言编写，利用 Keil 编译，并通过 Proteus 软件进行电路仿真。系统能够实现 00:00 到 59:59 的精确计时，并具备启动/暂停、时间微调及硬件复位功能。
![image-20251202134912661](https://cdn.jsdelivr.net/gh/peng122-byte/my-images@main/img/2025/09/14/image-20251202134912661.png)

## ✨ 功能特性

- **显示范围**：00分00秒 ~ 59分59秒（溢出后分钟自动归零）。
- **显示器件**：4位共阴极数码管 (7SEG-MPX4-CC)，采用动态扫描方式驱动。
- **按键控制**：
  - **P3.0**：启动 / 暂停计时。
  - **P3.1**：分钟调整（加 1）。
  - **P3.2**：秒钟调整（加 1）。
  - **RST**：系统复位（时间归零）。
- **定时机制**：使用内部定时器 T0 (Timer 0) 产生 50ms 中断，累积 20 次中断为 1 秒。

## 🛠 硬件环境 (Proteus 仿真)

- **核心控制器**：AT89C52 (或 AT89C51)
- **晶振频率**：12MHz (配合代码中的定时器初值)
- **显示模块**：`7SEG-MPX4-CC` (4位共阴极数码管)
- **复位电路**：高电平复位 (10kΩ 下拉电阻 + 10µF 上拉电容 + 按键)
- **排阻**：RESPACK-8 (用于 P0 口上拉，增强驱动能力)

## 🔌 引脚连接说明 (Pin Mapping)

| 单片机引脚      | 连接元件          | 说明                       |
| --------------- | ----------------- | -------------------------- |
| **P0.0 - P0.7** | 数码管段选 (A-DP) | 通过排阻上拉，控制数字笔画 |
| **P2.0**        | 数码管位选 1      | 控制左起第1位 (分钟十位)   |
| **P2.1**        | 数码管位选 2      | 控制左起第2位 (分钟个位)   |
| **P2.2**        | 数码管位选 3      | 控制左起第3位 (秒钟十位)   |
| **P2.3**        | 数码管位选 4      | 控制左起第4位 (秒钟个位)   |
| **P3.0**        | 按键 K1           | 启动 / 暂停                |
| **P3.1**        | 按键 K2           | 分钟调整                   |
| **P3.2**        | 按键 K3           | 秒钟调整                   |
| **RST (Pin 9)** | 复位电路          | 全局复位                   |

## 💻 软件开发环境

- **IDE**: Keil uVision (C51)
- **语言**: C
- **编译器**: C51 Compiler

## 🚀 使用指南

1. **编译代码**：
   - 使用 Keil 打开工程文件。
   - 确保 `main.c` 已添加到 "Source Group 1" 中。
   - 点击 "Rebuild" 生成 `.hex` 文件。
2. **配置仿真**：
   - 打开 Proteus 工程。
   - 双击 AT89C52 芯片。
   - 在 **Program File** 中加载生成的 `.hex` 文件。
   - 确保 **Clock Frequency** 设置为 `12MHz`。
3. **运行操作**：
   - 点击 Proteus 左下角的播放按钮开始仿真。
   - 按下 **P3.0** 键开始计时。
   - 再次按下 **P3.0** 键暂停。
   - 暂停状态下，可使用 **P3.1/P3.2** 调整时间。
   - 按下 **复位键** 可随时清零重置。

## ⚠️ 常见问题与注意事项 (Troubleshooting)

1. **数码管完全不亮？**
   - 检查 Proteus 中的网络标签（Label）是否正确放置在**导线**上，而不是直接贴在引脚上。
   - 检查是否已加载 HEX 文件。
2. **复位键按下无反应/一直复位？**
   - 检查 RST 引脚连接：必须使用**下拉电阻** (电阻接 GND) 和**上拉电容** (电容接 VCC)。
   - 确保电阻阻值不过大（推荐 1kΩ）且已正确接地。
3. **计时速度不准？**
   - 检查代码中的定时器初值是否与仿真设置的晶振频率 (12MHz) 匹配。

------

*Created by [pzk] - 2025*